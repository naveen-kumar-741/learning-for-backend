# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type UserRole {
  id: String!
  user: User!
  userId: String!
  userType: UserTypesEnum!
  createdAt: DateTime!
  updatedAt: DateTime!
}

enum UserTypesEnum {
  USER
  SUPER_ADMIN
  ADMIN
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Message {
  id: String!
  message: String!
  user: User!
  room: Room!
  createdAt: DateTime
}

type Room {
  id: String!
  roomName: String
  users: [User!]!
  messages: [Message!]
}

type User {
  """Id of the created user object. This will be used for further API Calls"""
  id: String!
  userName: String
  cognitoUserName: ID
  emailId: String!
  firstName: String
  lastName: String
  mobileNumber: Float
  profileUrl: String
  userRoles: [UserRole!]
  messages: [Message!]
  rooms: [Room!]
}

type GetAllUsersResponse {
  totalCount: Float!
  users: [User!]!
}

type GetAllMessagesResponse {
  totalCount: Float!
  messages: [Message!]!
}

type Query {
  """This API is used to get the details of the individual user"""
  getCurrentUserData: User!
  getAllUser(pagination: GetPaginationInput!): GetAllUsersResponse!

  """This API is used to get the details of the individual users by thir ID"""
  getUserById(
    """Id of the user to get the details"""
    userId: String!
  ): User!
  getAllMessages: [Message!]!
  getAllMessagesByRoomId(id: String!, pagination: GetPaginationInput!): GetAllMessagesResponse!
  getMessageById(id: String!): Message!
  getAllRooms: [Room!]!
  getAllOneOnOneRooms: [Room!]!
  getAllGroups: [Room!]!

  """Check room is already exist for one on one chat"""
  checkRoomAlreadyExist(senderId: String!, recipientId: String!): [Room!]!
  getRoomById(id: String!): Room!
}

input GetPaginationInput {
  """Page number of the records"""
  pageNo: Int

  """Number of records to be fetched per page"""
  perPage: Int

  """Search term incase we need to search by term"""
  searchParam: String
}

type Mutation {
  createUser(createUserInput: CreateUserInput!): User!
  updateUser(updateUserInput: UpdateUserInput!): User!
  removeUser(id: String!): String!
  createMessage(createMessageInput: CreateMessageInput!): Message!
  updateMessage(updateMessageInput: UpdateMessageInput!): Message!
  removeMessage(id: String!): String!
  createRoom(createRoomInput: CreateRoomInput!): Room!
  updateRoom(updateRoomInput: UpdateRoomInput!): Room!
  removeRoom(id: String!): String!
}

input CreateUserInput {
  """The unique username for the registering user."""
  userName: String

  """
  We are using cognito for Authentication. Once the user is registered from the frontend application, we need to provide the cognito username to our backend API
  """
  cognitoUserName: ID

  """The emailId of the registering user"""
  emailId: String!

  """
  The password of the user who is trying to register. This field will be used only for the developer's user creation
  """
  password: String

  """Give the first name of the user"""
  firstName: String

  """Give the last name of the user"""
  lastName: String

  """
  When the user registering, the user can upload their profile images. From the frontend we need to upload the file to S3 and give the file path as an input to this field
  """
  profileUrl: String
}

input UpdateUserInput {
  """The unique username for the registering user."""
  userName: String

  """
  We are using cognito for Authentication. Once the user is registered from the frontend application, we need to provide the cognito username to our backend API
  """
  cognitoUserName: ID

  """The emailId of the registering user"""
  emailId: String

  """
  The password of the user who is trying to register. This field will be used only for the developer's user creation
  """
  password: String

  """Give the first name of the user"""
  firstName: String

  """Give the last name of the user"""
  lastName: String

  """
  When the user registering, the user can upload their profile images. From the frontend we need to upload the file to S3 and give the file path as an input to this field
  """
  profileUrl: String
  id: String!
}

input CreateMessageInput {
  """conversation text"""
  message: String!
  user: UpdateUserInput!
  room: UpdateRoomInput!
}

input UpdateRoomInput {
  """The unique roomName for the registering user."""
  roomName: String
  users: [UpdateUserInput!]
  id: String!
}

input UpdateMessageInput {
  """conversation text"""
  message: String
  user: UpdateUserInput
  room: UpdateRoomInput
  id: String!
}

input CreateRoomInput {
  """The unique roomName for the registering user."""
  roomName: String
  users: [UpdateUserInput!]!
}